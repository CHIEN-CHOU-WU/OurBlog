{% extends 'base.html' %}

{% block title %}
{{ object.title }}
{% endblock %}

{% block content %}
<div class="container">
	<br><br>
	<h1>{{ object.title }}</h1>
	<small>By: {{ object.author.first_name }} 
	{{ object.author.last_name }} </small> - {{ object.post_date }}  

	{% if user.is_authenticated %}
	{% if user.id == object.author.id or user.is_superuser %}
	<small> - <a href="{% url 'post-edit' object.pk %}"><button type="button" class="btn btn-outline-info btn-sm"><i class="fa fa-pencil-square-o"></i> edit</button></a> <a href="{% url 'post-delete' post.pk %}"><button type="button" class="btn btn-outline-danger btn-sm"><i class="fa fa-trash"></i> delete</button></a></small>
	{% endif %}
	{% endif %}
	<br/>
	<hr>
	<br/>
	{% if post.header_image %}
	<img src="{{ post.header_image.url }}" alt="">
	{% endif %}
	<br><br>
	{{ object.body|safe }}


	<br/><br/>
	{% if user.is_authenticated %}
	<br/>
	<form action="{% url 'like-post' post.pk %}" method="POST">
		{% csrf_token %}

		{% if not liked %}
		<button type="submit" name="post_id" value="{{ post.id }}" class="btn btn-outline-secondary btn-sm disabled"><i class="fa fa-heart"></i> </button>
		{% else %}
		<button type="submit" name="post_id" value="{{ post.id }}" class="btn btn-outline-danger btn-sm disabled"><i class="fa fa-heart"></i> </button>
		{% endif %}

		- {{ total_likes }} Likes
	</form>
	{% endif %}
	<hr>
	<br/>
	<a href="{% url 'home' %}" role="button"><button type="button" href="{% url 'home' %}" class="btn btn-info btn-sm disabled"><i class="fa fa-home"></i> Home</button></a>
</div>
<br><br>
{% endblock %}